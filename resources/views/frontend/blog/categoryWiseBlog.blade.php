@extends('layouts.frontEndMaster')
@section('title','Category Wise Blog')
@section('content')
    <!--  ====================== Breadcrum  Area Start =============================  -->
    <section class="breadcrumb-area md:py-32 relative py-20  bg-blue-100 overflow-hidden">
        <div class="container">
            <div class="breadcrumb-titel md:w-7/12 m-auto text-center z-10 relative">
                <h2 class="xl:text-6xl lg:text-5xl md:text-4xl text-3xl text-black-200  font-medium" data-aos="fade-up"
                    data-aos-delay="100"> Blog </h2>
            </div>
            <ul class="flex gap-2 justify-center mt-6 relative z-10" data-aos="fade-up" data-aos-delay="200">
                <li><a class="hover:text-blue-600 transition duration-500" href="{{ route('main.index') }}">Home </a>
                </li>
                <li>/</li>
                <li><a class="hover:text-blue-600 transition duration-500" href="{{ route('main.blog.index') }}"> Blog</a></li>
                <li>/</li>
                <li> {{$blog_category->name}}</li>
            </ul>
        </div>
        <div class="shape-breadcrumb absolute top-0 right-0">
            <img src="{{asset('frontend/assets/images/about/about-breadcrumb.svg')}}" alt="images">
        </div>
    </section>
    <!--  ====================== Breadcrum  Area End =============================  -->
    <!--  ====================== Blog  Area Start =============================  -->
    <section class="blog-area md:py-32 py-20">
        <div class="container">
            <div class="lg:grid lg:grid-cols-8 mx-auto flex flex-col gap-12 lg:gap-24">
                <div class="col-span-5">
                    <div class="blog-left flex flex-col gap-10">
                        @foreach($blogs as $blog)
                            <div class="blog-post-box shadow-5xl rounded-b">
                                <div class="blog-post-images">
                                    <img class="w-full rounded-t max-h-96 object-cover"
                                         src="{{getImageFile($blog->image)}}"
                                         alt="images">
                                </div>
                                <div class="blog-post-wrap p-6">
                                    <div class="blog-post-top mb-5">
                                        <div class="tag-item flex justify-between">
                                            <a class="flex gap-4 hover:text-blue-600 transition duration-500 items-center"
                                               href="{{ route('main.categoryWiseBlog',$blog->category->slug) }}">
                                    <span>
                                       <svg width="17" height="14" viewBox="0 0 17 14" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                          <path
                                              d="M16.5846 6.16786C16.5032 6.07678 16.3636 6.06994 16.2732 6.1511L15.8405 6.53946L13.494 4.2128C13.4075 4.12723 13.2681 4.12745 13.1821 4.21412C13.0963 4.30057 13.0968 4.44017 13.1835 4.52596L15.5119 6.83454L14.3591 7.86908L10.5253 3.98587L14.3362 0.380754C14.4246 0.29695 14.4286 0.157351 14.3448 0.0689153C14.2608 -0.0197405 14.1214 -0.0230485 14.033 0.0600938L10.0585 3.82025C10.0154 3.86104 9.99052 3.91728 9.98942 3.97661C9.98832 4.03593 10.0115 4.09305 10.0529 4.13539L10.406 4.4931L9.62818 5.30688L8.12787 5.14699C8.06149 5.13905 7.99643 5.16287 7.94924 5.20963L7.33945 5.81412L6.20589 4.69445L6.58786 4.30763C6.62932 4.26551 6.65248 4.20817 6.65138 4.14884C6.65027 4.08952 6.62557 4.03328 6.58235 3.99248L2.60806 0.232554C2.51984 0.149191 2.38002 0.152499 2.29622 0.241375C2.21241 0.32981 2.21638 0.46941 2.30482 0.553214L4.98677 3.09005L1.05923 6.94393L0.367845 6.32356C0.277425 6.2424 0.137825 6.24968 0.0564471 6.34032C-0.024931 6.43096 -0.0174327 6.57034 0.0732079 6.65172L2.14383 8.51018C2.18573 8.54789 2.23866 8.56664 2.29115 8.56664C2.34826 8.56664 2.40516 8.54458 2.44817 8.50114L2.8233 8.12115L4.88554 10.1552L4.50666 10.5404C4.42175 10.6269 4.42219 10.7654 4.50798 10.851L5.28118 11.6242C5.28118 11.6242 5.28162 11.6244 5.28162 11.6246C5.28162 11.6248 5.28184 11.625 5.28206 11.625L6.05549 12.3896L7.60101 13.9354C7.64401 13.9784 7.70047 14 7.75693 14C7.81339 14 7.86984 13.9784 7.91285 13.9354L8.3129 13.5353L8.71957 13.9365C8.76235 13.9788 8.81837 14 8.87439 14C8.93085 14 8.9873 13.9784 9.03031 13.9354L9.64759 13.3181L9.73867 13.4092C9.78168 13.4522 9.83813 13.4738 9.89459 13.4738C9.95105 13.4738 10.0075 13.4522 10.0505 13.4092L10.6678 12.7919L10.7589 12.883C10.8019 12.926 10.8583 12.9476 10.9148 12.9476C10.9713 12.9476 11.0277 12.926 11.0707 12.883L11.688 12.2657L11.7789 12.3566C11.8219 12.3996 11.8783 12.4212 11.9348 12.4212C11.9912 12.4212 12.0477 12.3996 12.0907 12.3566L12.8639 11.5834C12.9501 11.4971 12.9501 11.3577 12.8639 11.2715L11.7158 10.1234L13.7908 7.92179L14.1931 8.32934C14.2361 8.37301 14.293 8.39484 14.3501 8.39484C14.4026 8.39484 14.4555 8.37609 14.4974 8.33838L16.568 6.47992C16.6585 6.39788 16.666 6.2585 16.5846 6.16786ZM5.43071 6.2907C5.43071 6.82285 4.99779 7.25555 4.46586 7.25555C4.25414 7.25555 4.05081 7.18586 3.88496 7.06059L5.23575 5.70958C5.36102 5.87565 5.43071 6.07898 5.43071 6.2907ZM5.54847 5.39686L5.91655 5.02879L6.11547 5.22528L5.71013 5.64033C5.66514 5.5541 5.61111 5.47251 5.54847 5.39686ZM2.28188 8.04132L1.38805 7.23901L5.30743 3.39329L6.11591 4.15811L2.28188 8.04132ZM3.57224 7.37331C3.65031 7.43793 3.73456 7.49328 3.8241 7.53938C3.75419 7.61127 3.68207 7.68603 3.60951 7.76102C3.52174 7.85166 3.43617 7.93965 3.35347 8.02456L3.1358 7.80998L3.57224 7.37331ZM5.19958 10.4646L5.66315 10.9217L5.43534 11.1544L4.97442 10.6935L5.19958 10.4646ZM6.20942 11.9217L5.74872 11.4663L5.97874 11.2331L6.44143 11.6894L6.20942 11.9217ZM6.75547 11.9993L7.21992 12.4573L6.98328 12.694L6.52192 12.2326L6.75547 11.9993ZM7.75671 13.4672L7.29535 13.0058L7.53419 12.767L7.99864 13.2253L7.75671 13.4672ZM11.9346 11.8881L10.6826 10.6362C10.5963 10.5499 10.457 10.5499 10.3707 10.6362C10.2845 10.7224 10.2845 10.8618 10.3707 10.948L11.3762 11.9532L10.9148 12.4146L9.66259 11.1624C9.57636 11.0761 9.43698 11.0761 9.35075 11.1624C9.26452 11.2486 9.26452 11.388 9.35075 11.4742L10.356 12.4796L9.89459 12.941L8.64238 11.689C8.55615 11.6028 8.41677 11.6028 8.33054 11.689C8.24431 11.7752 8.24431 11.9146 8.33054 12.0008L9.33575 13.006L8.87329 13.4685L3.66752 8.33419C3.7511 8.2484 3.83777 8.15908 3.9262 8.06756C4.0561 7.93348 4.18401 7.80137 4.29781 7.68581C4.35338 7.69243 4.40918 7.69662 4.46586 7.69662C5.24127 7.69662 5.87178 7.06588 5.87178 6.2907C5.87178 6.2327 5.86737 6.17536 5.86031 6.11846L6.42952 5.53536L7.02651 6.12485L4.94464 8.1893C4.89987 8.23363 4.87628 8.29494 4.87981 8.35801C4.88333 8.42108 4.91333 8.4793 4.96273 8.51856C5.01411 8.5598 6.22177 9.47437 8.31864 7.34927L12.3959 11.4268L11.9346 11.8881ZM11.4035 9.8109L8.47147 6.87865C8.42934 6.83653 8.37708 6.81315 8.31202 6.81403C8.25225 6.81491 8.1958 6.84005 8.15478 6.8835C6.802 8.32294 5.89582 8.36661 5.48716 8.27222L8.18521 5.59667L9.24312 5.70936L9.08434 5.87565C9.00009 5.96364 9.0034 6.10324 9.09118 6.18749C9.17917 6.27151 9.31855 6.26864 9.40301 6.18043L10.6707 4.85434L13.4527 7.63641L11.4035 9.8109ZM11.7892 3.47952C11.7892 3.8595 12.0984 4.16869 12.4784 4.16869C12.8584 4.16869 13.1676 3.8595 13.1676 3.47952C13.1676 3.09953 12.8584 2.79034 12.4784 2.79034C12.0984 2.79034 11.7892 3.09953 11.7892 3.47952ZM12.7265 3.47952C12.7265 3.61625 12.6151 3.72762 12.4784 3.72762C12.3417 3.72762 12.2303 3.61625 12.2303 3.47952C12.2303 3.34278 12.3417 3.23141 12.4784 3.23141C12.6151 3.23141 12.7265 3.34278 12.7265 3.47952Z"
                                              fill="#757F8F"/>
                                       </svg>
                                    </span>
                                                {{ $blog->category->name }}
                                            </a>
                                            <p class="flex gap-4 items-center ">
                                    <span>
                                       <svg width="14" height="14" viewBox="0 0 14 14" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                          <path
                                              d="M13.125 1.31089L9.62194 1.3109V0.438965C9.62194 0.197246 9.42616 0.00146484 9.18444 0.00146484C8.94272 0.00146484 8.74694 0.197246 8.74694 0.438965V1.31068H5.24694V0.438965C5.24694 0.197246 5.05116 0.00146484 4.80944 0.00146484C4.56772 0.00146484 4.37194 0.197246 4.37194 0.438965V1.31068H0.875C0.391781 1.31068 0 1.70246 0 2.18568V13.1232C0 13.6064 0.391781 13.9982 0.875 13.9982H13.125C13.6082 13.9982 14 13.6064 14 13.1232V2.18568C14 1.70267 13.6082 1.31089 13.125 1.31089ZM13.125 13.1232H0.875V2.18568H4.37194V2.62647C4.37194 2.86817 4.56772 3.06397 4.80944 3.06397C5.05116 3.06397 5.24694 2.86817 5.24694 2.62647V2.1859H8.74694V2.62668C8.74694 2.8684 8.94272 3.06418 9.18444 3.06418C9.42616 3.06418 9.62194 2.8684 9.62194 2.62668V2.1859H13.125V13.1232ZM10.0625 6.99839H10.9375C11.179 6.99839 11.375 6.80239 11.375 6.56089V5.68589C11.375 5.44439 11.179 5.24839 10.9375 5.24839H10.0625C9.821 5.24839 9.625 5.44439 9.625 5.68589V6.56089C9.625 6.80239 9.821 6.99839 10.0625 6.99839ZM10.0625 10.4982H10.9375C11.179 10.4982 11.375 10.3024 11.375 10.0607V9.18567C11.375 8.94417 11.179 8.74817 10.9375 8.74817H10.0625C9.821 8.74817 9.625 8.94417 9.625 9.18567V10.0607C9.625 10.3026 9.821 10.4982 10.0625 10.4982ZM7.4375 8.74817H6.5625C6.321 8.74817 6.125 8.94417 6.125 9.18567V10.0607C6.125 10.3024 6.321 10.4982 6.5625 10.4982H7.4375C7.679 10.4982 7.875 10.3024 7.875 10.0607V9.18567C7.875 8.94439 7.679 8.74817 7.4375 8.74817ZM7.4375 5.24839H6.5625C6.321 5.24839 6.125 5.44439 6.125 5.68589V6.56089C6.125 6.80239 6.321 6.99839 6.5625 6.99839H7.4375C7.679 6.99839 7.875 6.80239 7.875 6.56089V5.68589C7.875 5.44417 7.679 5.24839 7.4375 5.24839ZM3.9375 5.24839H3.0625C2.821 5.24839 2.625 5.44439 2.625 5.68589V6.56089C2.625 6.80239 2.821 6.99839 3.0625 6.99839H3.9375C4.179 6.99839 4.375 6.80239 4.375 6.56089V5.68589C4.375 5.44417 4.179 5.24839 3.9375 5.24839ZM3.9375 8.74817H3.0625C2.821 8.74817 2.625 8.94417 2.625 9.18567V10.0607C2.625 10.3024 2.821 10.4982 3.0625 10.4982H3.9375C4.179 10.4982 4.375 10.3024 4.375 10.0607V9.18567C4.375 8.94439 4.179 8.74817 3.9375 8.74817Z"
                                              fill="#757F8F"/>
                                       </svg>
                                    </span>
                                                {{ date('d M Y', strtotime(@$blog->created_at)) }}
                                            </p>
                                        </div>
                                    </div>
                                    <H2
                                        class="text-black-200 font-medium md:text-2xl text-xl hover:text-blue-500 transition duration-500">
                                        <a href="{{ route('main.blog.details', $blog->slug) }}">
                                            {{$blog->title}}
                                        </a>
                                    </H2>
                                    <p class="pt-4">
                                        {!!  Str::limit($blog->details, 200) !!}
                                    </p>
                                    <a class="flex items-center gap-2 mt-8 group hover:text-blue-600 transition duration-500"
                                       href="{{ route('main.blog.details', $blog->slug) }}">
                                        Read more
                                        <span>
                                 <svg width="14" height="10" viewBox="0 0 14 10" fill="none"
                                      xmlns="http://www.w3.org/2000/svg">
                                    <path class="group-hover:fill-blue-600" fill-rule="evenodd" clip-rule="evenodd"
                                          d="M0 5.00014C0 4.86753 0.052678 4.74036 0.146446 4.64659C0.240214 4.55282 0.367392 4.50014 0.5 4.50014H12.293L9.146 1.35414C9.09951 1.30766 9.06264 1.25247 9.03748 1.19173C9.01232 1.13099 8.99937 1.06589 8.99937 1.00014C8.99937 0.934399 9.01232 0.869299 9.03748 0.80856C9.06264 0.74782 9.09951 0.692631 9.146 0.646143C9.19249 0.599655 9.24768 0.562779 9.30842 0.53762C9.36916 0.512461 9.43426 0.499512 9.5 0.499512C9.56574 0.499512 9.63084 0.512461 9.69158 0.53762C9.75232 0.562779 9.80751 0.599655 9.854 0.646143L13.854 4.64614C13.9006 4.69259 13.9375 4.74776 13.9627 4.80851C13.9879 4.86926 14.0009 4.93438 14.0009 5.00014C14.0009 5.06591 13.9879 5.13103 13.9627 5.19178C13.9375 5.25252 13.9006 5.3077 13.854 5.35414L9.854 9.35414C9.80751 9.40063 9.75232 9.43751 9.69158 9.46267C9.63084 9.48783 9.56574 9.50077 9.5 9.50077C9.43426 9.50077 9.36916 9.48783 9.30842 9.46267C9.24768 9.43751 9.19249 9.40063 9.146 9.35414C9.09951 9.30766 9.06264 9.25247 9.03748 9.19173C9.01232 9.13099 8.99937 9.06589 8.99937 9.00014C8.99937 8.9344 9.01232 8.8693 9.03748 8.80856C9.06264 8.74782 9.09951 8.69263 9.146 8.64614L12.293 5.50014H0.5C0.367392 5.50014 0.240214 5.44746 0.146446 5.3537C0.052678 5.25993 0 5.13275 0 5.00014Z"
                                          fill="#757F8F"/>
                                 </svg>
                              </span>
                                    </a>
                                </div>
                            </div>
                        @endforeach
                    </div>
                </div>
                <div class="col-span-3">
                    <div class="site-menu shadow-5xl bg-white p-10">
                        <h2 class="text-black-200 font-medium md:text-2xl text-xl">Latest Post</h2>


                        @foreach($latest_blogs as $latest_blog)
                            <div class="blog-post-item mt-10 border-b pb-10">
                                <div class="grid grid-cols-12 gap-4 items-center">
                                    <div class="col-span-4">
                                        <div class="blog-post-item-images h-full">
                                            <img class="rounded h-full object-cover"
                                                 src="{{getImageFile($latest_blog->image)}}"
                                                 alt="images">
                                        </div>
                                    </div>
                                    <div class="col-span-8">
                                        <div class="blog-post-wrap">
                                            <h4>
                                                <a class="text-black-200 font-medium hover:text-blue-600 transition duration-500"
                                                   href="{{ route('main.blog.details', $latest_blog->slug) }}">{{ $latest_blog->title }}</a>
                                            </h4>
                                            <div class="date-tag flex gap-3 mt-4">
                                                <p class="flex gap-4 items-center ">
                                    <span>
                                       <svg width="14" height="14" viewBox="0 0 14 14" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                          <path
                                              d="M13.125 1.31089L9.62194 1.3109V0.438965C9.62194 0.197246 9.42616 0.00146484 9.18444 0.00146484C8.94272 0.00146484 8.74694 0.197246 8.74694 0.438965V1.31068H5.24694V0.438965C5.24694 0.197246 5.05116 0.00146484 4.80944 0.00146484C4.56772 0.00146484 4.37194 0.197246 4.37194 0.438965V1.31068H0.875C0.391781 1.31068 0 1.70246 0 2.18568V13.1232C0 13.6064 0.391781 13.9982 0.875 13.9982H13.125C13.6082 13.9982 14 13.6064 14 13.1232V2.18568C14 1.70267 13.6082 1.31089 13.125 1.31089ZM13.125 13.1232H0.875V2.18568H4.37194V2.62647C4.37194 2.86817 4.56772 3.06397 4.80944 3.06397C5.05116 3.06397 5.24694 2.86817 5.24694 2.62647V2.1859H8.74694V2.62668C8.74694 2.8684 8.94272 3.06418 9.18444 3.06418C9.42616 3.06418 9.62194 2.8684 9.62194 2.62668V2.1859H13.125V13.1232ZM10.0625 6.99839H10.9375C11.179 6.99839 11.375 6.80239 11.375 6.56089V5.68589C11.375 5.44439 11.179 5.24839 10.9375 5.24839H10.0625C9.821 5.24839 9.625 5.44439 9.625 5.68589V6.56089C9.625 6.80239 9.821 6.99839 10.0625 6.99839ZM10.0625 10.4982H10.9375C11.179 10.4982 11.375 10.3024 11.375 10.0607V9.18567C11.375 8.94417 11.179 8.74817 10.9375 8.74817H10.0625C9.821 8.74817 9.625 8.94417 9.625 9.18567V10.0607C9.625 10.3026 9.821 10.4982 10.0625 10.4982ZM7.4375 8.74817H6.5625C6.321 8.74817 6.125 8.94417 6.125 9.18567V10.0607C6.125 10.3024 6.321 10.4982 6.5625 10.4982H7.4375C7.679 10.4982 7.875 10.3024 7.875 10.0607V9.18567C7.875 8.94439 7.679 8.74817 7.4375 8.74817ZM7.4375 5.24839H6.5625C6.321 5.24839 6.125 5.44439 6.125 5.68589V6.56089C6.125 6.80239 6.321 6.99839 6.5625 6.99839H7.4375C7.679 6.99839 7.875 6.80239 7.875 6.56089V5.68589C7.875 5.44417 7.679 5.24839 7.4375 5.24839ZM3.9375 5.24839H3.0625C2.821 5.24839 2.625 5.44439 2.625 5.68589V6.56089C2.625 6.80239 2.821 6.99839 3.0625 6.99839H3.9375C4.179 6.99839 4.375 6.80239 4.375 6.56089V5.68589C4.375 5.44417 4.179 5.24839 3.9375 5.24839ZM3.9375 8.74817H3.0625C2.821 8.74817 2.625 8.94417 2.625 9.18567V10.0607C2.625 10.3024 2.821 10.4982 3.0625 10.4982H3.9375C4.179 10.4982 4.375 10.3024 4.375 10.0607V9.18567C4.375 8.94439 4.179 8.74817 3.9375 8.74817Z"
                                              fill="#757F8F"/>
                                       </svg>
                                    </span>
                                                    {{ date('d M Y', strtotime(@$latest_blog->created_at)) }}
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        @endforeach


                        <div class="categories-box md:pt-16 pt-10">
                            <h2 class="text-black-200 font-medium md:text-2xl text-xl">Archives</h2>
                            <ul class="mt-10 gap-6 flex flex-col">
                                @foreach($blog_categories as $blog_category)

                                    @php
                                        $blog_posts = \App\Models\Blog::where('blog_category_id', $blog_category->id)->get();
                                    @endphp
                                    <li>
                                        <a class="flex items-center gap-3  hover:text-blue-600 group transition duration-500"
                                           href="{{ route('main.categoryWiseBlog', $blog_category->slug) }}">
                                 <span>
                                    <svg width="6" height="8" viewBox="0 0 6 8" fill="none"
                                         xmlns="http://www.w3.org/2000/svg">
                                       <path class="group-hover:fill-blue-600"
                                             d="M2.45414 0.582673C2.47934 0.556453 2.50945 0.535629 2.54269 0.52143C2.57594 0.507231 2.61164 0.499944 2.6477 0.5C2.68376 0.500057 2.71945 0.507454 2.75265 0.521757C2.78585 0.53606 2.81589 0.556978 2.84101 0.583276L5.91577 3.78969C5.96978 3.846 6 3.92152 6 4.00015C6 4.07878 5.96978 4.15431 5.91577 4.21062L2.84101 7.41703C2.81586 7.44329 2.78578 7.46416 2.75256 7.47841C2.71933 7.49266 2.68364 7.5 2.64758 7.5C2.61152 7.5 2.57582 7.49266 2.5426 7.47841C2.50938 7.46416 2.4793 7.44329 2.45414 7.41703C2.40239 7.36318 2.37342 7.29089 2.37342 7.21561C2.37342 7.14033 2.40239 7.06804 2.45414 7.01419L5.34556 4.00015L2.45414 0.984906C2.40257 0.931083 2.37371 0.858921 2.37371 0.78379C2.37371 0.708658 2.40257 0.636496 2.45414 0.582673ZM0.0807274 0.582673C0.105923 0.556453 0.136031 0.535629 0.169275 0.52143C0.20252 0.507231 0.238226 0.499944 0.274286 0.5C0.310346 0.500057 0.34603 0.507454 0.379232 0.521757C0.412433 0.53606 0.442478 0.556978 0.467594 0.583276L3.54236 3.78969C3.59636 3.846 3.62658 3.92152 3.62658 4.00015C3.62658 4.07878 3.59636 4.15431 3.54236 4.21062L0.467594 7.41703C0.442438 7.44329 0.412361 7.46416 0.379139 7.47841C0.345916 7.49266 0.310221 7.5 0.274161 7.5C0.2381 7.5 0.202405 7.49266 0.169183 7.47841C0.13596 7.46416 0.105883 7.44329 0.0807274 7.41703C0.0289736 7.36318 0 7.29089 0 7.21561C0 7.14033 0.0289736 7.06804 0.0807274 7.01419L2.97214 4.00015L0.0807274 0.984906C0.0291512 0.931083 0.000289299 0.858921 0.000289299 0.78379C0.000289299 0.708658 0.0291512 0.636496 0.0807274 0.582673Z"
                                             fill="#757F8F" fill-opacity="0.5"/>
                                    </svg>
                                 </span>
                                            {{$blog_category->name}} ({{count($blog_posts)}})
                                        </a>
                                    </li>
                                @endforeach
                            </ul>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--  ====================== Blog  Area End =============================  -->
@endsection
